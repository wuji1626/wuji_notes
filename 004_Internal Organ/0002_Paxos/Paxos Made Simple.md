#Paxos Made Simple
[TOC]

##1 介绍
Paxos是容错的分布式系统  
Paxos本质上一致性算法，或者叫共识算法（consensus algorithm）
##2 一致性算法
###2.1 问题描述
假设一系列进程提交数据。一致性算法确保其中一个提交的数据被采纳。如果没有数据提交，没有数据被采纳。一旦数据被采纳，系统中所有进程都能感知到选择的数据。一致性算法需要满足的需求有：
- 只有一个提交的数据值被采纳
- 唯一的数据值被采纳
- 进程只有在提交数据被采纳时才能感知到
在一致性算法中需要定义三类角色描述该算法：提交者（proposer）、接受者（acceptor）、感知者（learner）。一个进程在一次处理中可能扮演多个角色，这种进程与角色的映射在论文中没有体现  

假设系统中的代理之间需要消息传递。采用常规异步通信或者称拜占庭模式：  
- 代理的操作可以按任意速度，可能由于代理的停止或者重启而失败。在所有代理提交的值被采纳后进行失败重启。这样记录代理失败或者重启时的状态非常重要  
- 消息可以是任意长度。消息可以被传递、被提交也可以被丢弃，但是不能被毁坏  

##2.2 采纳值（Choosing a Value）
**单一接受者模式**：当提交者提交信息给接受者，接受者只接受自己所接受到的第一个值。但是单一接受者面临巨大问题：一旦接受者宕掉，后续的处理都无法进行  

**多接受者模式**：提交者提交数值给多个接受者。接受者可以接受提交的值。当接受者数量达到一定量，提交的数据就称为被接受。为确定一个数值被接受，确保代理中的大多数是该数值。在两个是大多数的代理，至少拥有1个相同的接收器，这样接收器可以接受大部分的数值  

如果失败信息或者消息缺失的情况下，我们需要选择提交值，建议：
1. 接收器必须接受他收到的第一个提交的值  
这种方案会产生问题。不同的值可能被不同的提交者同时提交数据。这样会导致，每个接收器都接受了一个数值，但是不是单个的值被接收器中的大部分被接受。这种场景，即使两个提交值，每个值都被一半的接收器接受，单个接收器的失败，使接收器无法感知哪个数值被选择  
上面观点暗示每个接收器需要接受多个提交值。需要追踪不同的提交值，接受者可能接受到一系列提交数据。每个数据中都包括提交的编号以及数值。为了避免混乱，一些不同的提交有不同的编号。这个实现方法都只是假设。
